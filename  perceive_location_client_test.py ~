#! /usr/bin/env python
import rospy
import roslib
import actionlib
from mir_yb_action_msgs.msg import PerceiveLocationAction, PerceiveLocationGoal
from mcr_perception_msgs import ObjectList

if __name__ == '__main__':
    rospy.init_node('perceive_location_client_tester')
    client = actionlib.SimpleActionClient('perceive_location_server', PerceiveLocationAction)
    client.wait_for_server()
    goal = PerceiveLocationGoal()
    goal.location = "sh-03"
    client.send_goal(goal)
    client.wait_for_result(rospy.Duration.from_sec(15.0))
    print client.get_result()


def callback(data):
    object_list = data.data
        
def listener():
    
    rospy.init_node('listener', anonymous=True)
   
    rospy.Subscriber("output_object_list", String, callback)
   
    rospy.spin()